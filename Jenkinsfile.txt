pipeline 
{
	agent any
	environment
	{
		VERSION_NAME = '1.3.0'
		SERVER_CRED= credentials('GIT-1')
	}
	parameters 
	{
		string(name : 'ENV' , defaultValue= 'Dev' , Description = 'String ENV variable')
		choice(name : 'version_choice' , choices : ['1.0','2.0' ,'3.0'], decription : 'Drop down') 
		booleanParam (name: 'executeTests' , defaultValue : true)		
	}
	stages 
	{
		stage ("Build") 
		{
			steps 
			{
				echo 'Stage Build'
				echo "Variable Name - ${VERSION_NAME}"
			}
		}
		stage ("Test") 
		{
			when
			{
				expression
				{
					param.booleanParam == true
				}
			}
			steps 
			{
				echo 'Stage Test'
				echo "Stements are executed because ${booleanParam}  is True"
			/*	echo "Variable Name - ${SERVER_CRED_PSW}"
				echo "Variable Name - ${SERVER_CRED}"  */
			}
		}
		stage ("Deploy") 
		{
			steps 
			{
				echo 'Stage Deploy'
				echo "Envionment is ${ENV}"
				echo "Version is ${version_choice}"
			/*	withCredentials
				([
						usernamePassword(credentials: 'GIT-1' , usernameVariable: USER , passwordVariable: PWD)
				])
				{
					echo "USer name is - ${USER}"
					echo "USer name is - ${PWD}"
				}  */
			}
		}
	}
	post
	{
		always 
		{
			echo 'Post always'
		}
		success 
		{
			echo 'Post success'
		}
		failure
		{
			echo 'Post failure'
		}		
	}
}